!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[GoogleMap]",["react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[GoogleMap]"]=t(require("react")):e["rb_wixui.thunderbolt[GoogleMap]"]=t(e.React)}("undefined"!=typeof self?self:this,(function(e){return function(){var t={40841:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var i=o.apply(null,n);i&&e.push(i)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},5329:function(t){"use strict";t.exports=e},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},66820:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/";var o={};return function(){"use strict";r.r(o),r.d(o,{components:function(){return J}});var e=r(448),t=r.n(e),n=r(5329),a=r(40841),i=r.n(a);const s=()=>"undefined"!=typeof window,l=(...e)=>e.map((e=>`wixui-${e}`)).join(" ");var u={root:"google-map"},c=r(66820),d=r.n(c);function p(){const e=n.useRef([]);return[n.useCallback((()=>new Promise((t=>e.current.push(t)))),[]),n.useCallback((t=>{e.current.forEach((e=>e(t))),e.current.length=0}),[])]}const f=(e,t)=>{if(e||t)return t?{path:e,fillColor:t,strokeColor:t,fillOpacity:1,scale:.5}:(e=>{if(e&&e.endsWith(".webp"))try{const t=e.match(/media\/[^/]+/)[0].split(".")[1];e=e.replace(/.webp$/,"."+t)}catch(e){}return e})(e)},g=e=>e.map((e=>t()({},e,{icon:f(e.pinIcon,e.pinColor)})));var m="load",v="message",y="SET_INITIAL_LOCATIONS",h="SET_CENTER",M="CENTER_UPDATED",E="SET_ZOOM",b="ZOOM_UPDATED",O="MARKER_CLICKED",S="MAP_CLICKED",w="GET_MARKERS",_="MARKERS",C="FIT_BOUNDS",x="MAP_IDLE",N="OPEN_INFO_WINDOW",k="TILES_LOADED",R="SET_MARKER_ICON",D="SET_MARKER_ICON_FINISHED";const I=["longitude","latitude"];function L(e,r,o){let a=r.mapData,i=r.isEditorMode,l=o.onUpdateZoom,u=o.onUpdateCenter,c=o.onMarkerClicked,f=o.onMapClicked;const L=(0,n.useRef)([]),j=(0,n.useRef)(null),A=p(),P=A[0],T=A[1],G=p(),U=G[0],J=G[1],F=p(),W=F[0],K=F[1],Z=p(),z=Z[0],B=Z[1],H=p(),V=H[0],q=H[1],$=p(),Q=$[0],X=$[1],Y=p(),ee=Y[0],te=Y[1],ne=(0,n.useState)(!1),re=ne[0],oe=ne[1],ae=e=>{const t=j.current;return g(t||e)},ie=(0,n.useMemo)((()=>t()({},a,{locations:ae(a.locations)})),[a]),se=function(e,t){void 0===t&&(t=null);const r=(0,n.useRef)(t);return(0,n.useEffect)((()=>{r.current=e}),[e]),r.current}(ie),le={[M]:e=>null==u?void 0:u(e),[b]:e=>null==l?void 0:l({zoom:e}),[O]:e=>null==c?void 0:c(t()({type:"markerClicked"},e)),[S]:e=>{let n=e.longitude,r=e.latitude,o=d()(e,I);return null==f?void 0:f(t()({type:"mapClicked",location:{longitude:n,latitude:r}},o))},[_]:e=>T(e),[x]:()=>{const e=L.current.shift();null==e||e()},[k]:()=>{re||oe(!0)},[D]:()=>te()},ue={[m]:e=>{(0,e._sendMessage)({type:y,data:JSON.stringify(t()({},a,{locations:ae(a.locations)}))},{forceSend:!0})},[v]:e=>{let t=e.event;if("string"==typeof t.payload){var n;const e=JSON.parse(t.payload),r=e.type,o=e.data;null==(n=le[r])||n.call(le,o)}}},ce=function(e){let t=e.reducer,r=void 0===t?()=>({}):t,o=e.iframeLoaded;const a=(0,n.useRef)([]),i=(0,n.useRef)(void 0),l=(0,n.useRef)(void 0),u=(0,n.useRef)(void 0),c=(0,n.useCallback)(((e,t)=>{if(i.current&&o||null!=t&&t.forceSend){var n;const t=null==(n=i.current)?void 0:n.contentWindow;return void(null==t||t.postMessage(e,"*"))}if(!i.current||!l.current||!1===o)return void a.current.push(e);const r=i.current.contentWindow;null==r||r.postMessage(e,"*")}),[o]),d=(0,n.useCallback)((()=>{0!==a.current.length&&!1!==o&&(a.current.forEach((e=>c(e))),a.current=[])}),[c,o]),p=(0,n.useCallback)((e=>{if(u.current&&(u.current(),u.current=void 0),!e)return;const t=()=>{l.current=!0,d(),r({type:"load"},c)};e.addEventListener("load",t),i.current=e,u.current=()=>{e.removeEventListener("load",t)}}),[r,c,d]);return(0,n.useEffect)((()=>{o&&d()}),[o,d]),(0,n.useEffect)((()=>{if(!s())return;const e=e=>{var t;e.source&&e.source!==(null==(t=i.current)?void 0:t.contentWindow)||r({type:"message",payload:e.data},c)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[r,c]),[p,c]}({reducer:(e,t)=>{var n;return null==(n=ue[e.type])?void 0:n.call(ue,{event:e,_sendMessage:t})},iframeLoaded:re}),de=ce[0],pe=ce[1];return(0,n.useImperativeHandle)(e,(()=>({setMapCenter:(e,t)=>{const n=U();return pe({type:h,data:JSON.stringify({longitude:e,latitude:t})}),L.current.push(J),n},fitBounds:e=>{let t=e.north,n=e.east,r=e.west,o=e.south;const a=z();return pe({type:C,data:JSON.stringify({north:t,east:n,west:r,south:o})}),L.current.push(B),a},setMarkerIcon:e=>{let n=e.locations,r=e.coordinates,o=e.iconOptions;const a=ee();return j.current=n,pe({type:R,data:JSON.stringify(t()({},r,{iconOptions:o}))}),a},setMapZoom:e=>{const t=W();return pe({type:E,data:e}),L.current.push(K),t},getVisibleMarkers:()=>{const e=P();return pe({type:w}),e},openInfoWindow:e=>{if(!ie.showDirectionsLink){const t=Q();return pe({type:N,data:JSON.stringify({locationIndex:e})}),L.current.push(X),t}return new Promise((e=>e()))},setMarkers:(e,n)=>{const r=V();return j.current=e,pe(JSON.stringify(t()({},ie,{locations:g(e),openInfoWindow:null==n?void 0:n.openInfoWindow}))),L.current.push(q),r}}))),(0,n.useEffect)((()=>{if(!re||!i)return;const e=!!se&&(n=ie.locations,r=se.locations,n.length===r.length&&n.every(((e,t)=>{const n=Object.keys(e);return n.length===Object.keys(r[t]).length&&n.every((n=>"locationLinkAttributes"===n||e[n]===r[t][n]))})));var n,r;pe(JSON.stringify(t()({},ie,{locations:ae(ie.locations),shouldKeepMarkers:e})))}),[ie,pe,re,se,i]),[de]}var j={GoogleMapSkin:"azCDHJ",googleMapSkin:"azCDHJ",mapContainer:"UXiAup",GoogleMapDefault:"gzNVjA",googleMapDefault:"gzNVjA",GoogleMapSloppy:"FiDpOP",googleMapSloppy:"FiDpOP",brd:"vWE6wc",one:"dj3FJn",two:"W_nooy",GoogleMapLiftedShadow:"e4y5ni",googleMapLiftedShadow:"e4y5ni",shd:"up3Bvs",left:"h0JKNn",right:"uaUROu"};const A={GoogleMapLiftedShadow:()=>n.createElement(n.Fragment,null,n.createElement("div",{className:i()(j.left,j.shd)}),n.createElement("div",{className:i()(j.right,j.shd)})),GoogleMapSloppy:()=>n.createElement(n.Fragment,null,n.createElement("div",{className:i()(j.brd,j.one)}),n.createElement("div",{className:i()(j.brd,j.two)})),GoogleMapSkin:()=>n.createElement(n.Fragment,null),GoogleMapDefault:()=>n.createElement(n.Fragment,null)};var P=r.p+"media/googleMap.4be2d908.html",T=r.p+"media/google-map.min.52d06101.js";const G=e=>e.replace("https://static.parastorage.com/services/","https://editor.wix.com/_partials/"),U=(e,r)=>{const o=e.id,a=e.className,c=e.customClassNames,d=void 0===c?[]:c,p=e.skin,f=e.urlQueries,g=e.mapData,m=e.translate,v=e.onUpdateCenter,y=e.onUpdateZoom,h=e.onMarkerClicked,M=e.onMapClicked,E=e.onMouseEnter,b=e.onMouseLeave,O=e.isDesignerMode,S=e.isEditorMode,w=A[p],_=((e,t)=>{const n=t?G(T):T,r=new URLSearchParams({googleMapsScriptPath:new URL(n).pathname});return s()&&r.append("origin",window.origin),(t?G(P):P)+"?"+e+"&"+r})(f,O),C=n.useState(!1),x=C[0],N=C[1],k=L(r,{mapData:g,isEditorMode:S},{onUpdateCenter:v,onUpdateZoom:y,onMarkerClicked:h,onMapClicked:M})[0];n.useEffect((()=>{N(!0)}),[_]);const R=m("component_label","COMPONENT_LABEL_googleMapsTitle","Google Map");return n.createElement("div",t()({id:o},(e=>Object.entries(e).reduce(((e,[t,n])=>(t.includes("data-")&&(e[t]=n),e)),{}))(e),{tabIndex:0,className:i()(j[p],j.wixIframe,a,l(u.root,...d))}),x&&n.createElement("wix-iframe",{title:R,"aria-label":R,"data-src":_},n.createElement(w,null),n.createElement("div",{id:"mapContainer_"+o,onMouseEnter:E,onMouseLeave:b,className:j.mapContainer},n.createElement("iframe",{ref:k,title:R,"aria-label":R,"data-src":_,width:"100%",height:"100%",frameBorder:"0",scrolling:"no",allowFullScreen:!0}))))};const J={GoogleMap:{component:n.forwardRef(U)}}}(),o}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[GoogleMap].ae6caf6a.bundle.min.js.map